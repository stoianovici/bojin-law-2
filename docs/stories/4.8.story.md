# Story 4.8: Task System User Documentation

**Epic:** 4 - Natural Language Task Management & Workflow Automation
**Story Type:** Documentation (No code implementation)
**Priority:** Medium
**Dependencies:** Stories 4.1-4.7 (All task system features must be implemented)

## Status

Deferred

## Story

**As an** end user,
**I want** comprehensive documentation for the task system,
**so that** I can use all features effectively.

## Acceptance Criteria

1. User guide sections for all task types and workflows
2. Video tutorials for common workflows
3. In-app help tooltips and guided tours
4. Quick reference cards (printable)
5. Troubleshooting guide
6. Best practices document

## Tasks / Subtasks

### Phase 1: User Guide Documentation (AC: 1)

- [ ] **Task 1: Create Task System Overview Guide** (AC: 1)
  - [ ] Write introduction to the task management system
  - [ ] Document all six task types with use cases:
    - Research tasks (linking to documents and sources)
    - Document Creation tasks
    - Document Retrieval tasks
    - Court Date tasks (auto-generated preparation subtasks)
    - Meeting tasks (agenda field, attendee management)
    - Business Trip tasks (delegation workflow)
  - [ ] Include screenshots of key interfaces
  - [ ] Location: `docs/guides/task-system/overview.md`

- [ ] **Task 2: Create Natural Language Task Creation Guide** (AC: 1)
  - [ ] Document command palette usage
  - [ ] Provide example phrases in Romanian and English:
    - "Programează întâlnire client marți la 14:00"
    - "Schedule client meeting next Tuesday at 2pm"
  - [ ] Explain confidence scores and modification options
  - [ ] Document clarification dialogs and how to respond
  - [ ] Location: `docs/guides/task-system/natural-language-creation.md`

- [ ] **Task 3: Create Time Tracking User Guide** (AC: 1)
  - [ ] Document time estimation on task creation
  - [ ] Explain manual time logging workflow
  - [ ] Document quick-log from task context
  - [ ] Explain weekly summary dashboard
  - [ ] Cover estimated vs actual time comparison view
  - [ ] Location: `docs/guides/task-system/time-tracking.md`

- [ ] **Task 4: Create Task Dependencies Guide** (AC: 1)
  - [ ] Document task templates and workflows
  - [ ] Explain automatic task activation on completion
  - [ ] Document deadline cascade behavior
  - [ ] Explain critical path highlighting
  - [ ] Document automated reminders
  - [ ] Location: `docs/guides/task-system/dependencies.md`

- [ ] **Task 5: Create Team Workload Management Guide** (AC: 1)
  - [ ] Document team calendar features
  - [ ] Explain workload meter and capacity planning
  - [ ] Document AI assignment suggestions
  - [ ] Explain delegation with handoff notes
  - [ ] Document out-of-office auto-reassignment
  - [ ] Location: `docs/guides/task-system/workload-management.md`

- [ ] **Task 6: Create Task Collaboration Guide** (AC: 1)
  - [ ] Document task comments and @mentions
  - [ ] Explain file attachments and version tracking
  - [ ] Document subtask creation workflow
  - [ ] Explain task history and audit trail
  - [ ] Document daily digest email setup
  - [ ] Location: `docs/guides/task-system/collaboration.md`

- [ ] **Task 7: Create Task Analytics Guide (Partner/Manager)** (AC: 1)
  - [ ] Document completion time analytics
  - [ ] Explain overdue analysis and bottleneck detection
  - [ ] Document velocity trends interpretation
  - [ ] Explain pattern detection and template creation
  - [ ] Document delegation analytics and training suggestions
  - [ ] Cover ROI dashboard metrics
  - [ ] Location: `docs/guides/task-system/analytics.md`

### Phase 2: Video Tutorial Scripts (AC: 2)

- [ ] **Task 8: Create Video Tutorial Scripts** (AC: 2)
  - [ ] Write script for "Creating Your First Task with Natural Language"
  - [ ] Write script for "Managing Court Date Tasks"
  - [ ] Write script for "Tracking Your Time"
  - [ ] Write script for "Working with Task Dependencies"
  - [ ] Write script for "Team Workload Management for Partners"
  - [ ] Note: Actual video recording handled by marketing/training team
  - [ ] Location: `docs/guides/task-system/video-scripts/`

### Phase 3: In-App Help Tooltips and Guided Tours (AC: 3)

- [ ] **Task 9: Extend FeatureTooltips Component** (AC: 3)
  - [ ] Add tooltip for Task Type selector explaining each type
  - [ ] Add tooltip for Time Estimation field with AI suggestion info
  - [ ] Add tooltip for Dependency Graph showing critical path
  - [ ] Add tooltip for Workload Meter explaining capacity calculation
  - [ ] Add tooltip for ROI Dashboard explaining savings metrics
  - [ ] Integrate with existing `FeatureTooltips` pattern
  - [ ] Location: `apps/web/src/components/ui/Tooltip.tsx` (extend FeatureTooltips object)

- [ ] **Task 10: Create Guided Tour Configuration** (AC: 3)
  - [ ] Select guided tour library (recommend: react-joyride or intro.js-react)
  - [ ] Create tour for first-time task creation
  - [ ] Create tour for NLP command palette
  - [ ] Create tour for time tracking workflow
  - [ ] Create tour for workload dashboard (Partners only)
  - [ ] Store tour completion state in user preferences
  - [ ] Location: `apps/web/src/components/onboarding/TaskSystemTour.tsx`

- [ ] **Task 11: Create Help Panel Component** (AC: 3)
  - [ ] Create collapsible help panel for task forms
  - [ ] Include contextual tips based on current task type
  - [ ] Link to relevant guide sections
  - [ ] Include "Show me how" buttons triggering mini-tours
  - [ ] Location: `apps/web/src/components/task/TaskHelpPanel.tsx`

### Phase 4: Quick Reference Cards (AC: 4)

- [ ] **Task 12: Create Printable Quick Reference Cards** (AC: 4)
  - [ ] Create single-page task type reference card (A4 PDF)
  - [ ] Create NLP command examples card with common phrases
  - [ ] Create keyboard shortcuts reference card
  - [ ] Create time tracking quick reference
  - [ ] Use print-optimized CSS or PDF generation
  - [ ] Location: `docs/guides/task-system/quick-reference/`

- [ ] **Task 13: Create In-App Quick Reference Viewer** (AC: 4)
  - [ ] Create modal component to view quick reference cards
  - [ ] Add print button for each card
  - [ ] Add to Help menu in application header
  - [ ] Location: `apps/web/src/components/help/QuickReferenceModal.tsx`

### Phase 5: Troubleshooting Guide (AC: 5)

- [ ] **Task 14: Create Troubleshooting Guide** (AC: 5)
  - [ ] Document common issues and solutions:
    - "NLP not understanding my input" - provide examples
    - "Task not appearing in calendar" - check date/assignee
    - "Dependency not triggering" - verify predecessor completion
    - "Time entry not saving" - connection/validation issues
    - "Can't see team workload" - role permissions
  - [ ] Include error message explanations
  - [ ] Add FAQ section based on anticipated questions
  - [ ] Location: `docs/guides/task-system/troubleshooting.md`

- [ ] **Task 15: Create In-App Error Help** (AC: 5)
  - [ ] Add help links to common error messages in task forms
  - [ ] Create error-specific help content
  - [ ] Link to troubleshooting guide sections
  - [ ] Location: Update existing error components with help links

### Phase 6: Best Practices Document (AC: 6)

- [ ] **Task 16: Create Best Practices Guide** (AC: 6)
  - [ ] Document recommended workflows for different roles:
    - Junior Lawyer: Daily task management
    - Senior Lawyer: Delegation and oversight
    - Paralegal: Task coordination and time tracking
    - Partner: Team analytics and capacity planning
  - [ ] Include efficiency tips:
    - Using templates for repetitive workflows
    - Keyboard shortcuts for power users
    - NLP patterns that work best
    - Time tracking habits
  - [ ] Document anti-patterns to avoid:
    - Overloading single users
    - Missing time logs
    - Ignoring AI suggestions
  - [ ] Location: `docs/guides/task-system/best-practices.md`

### Phase 7: Documentation Integration (AC: 1, 3, 4, 5, 6)

- [ ] **Task 17: Add Help Menu to Application** (AC: 1, 3, 4, 5, 6)
  - [ ] Add "Help" dropdown to application header
  - [ ] Include links to:
    - User Guide sections
    - Quick Reference Cards
    - Video Tutorials
    - Troubleshooting
    - Best Practices
  - [ ] Add keyboard shortcut (F1 or ?) to open help
  - [ ] Location: `apps/web/src/components/layout/Header.tsx` (or `Sidebar.tsx`)

- [ ] **Task 18: Create Documentation Index Page** (AC: 1)
  - [ ] Create landing page for all task system documentation
  - [ ] Organize by user role and topic
  - [ ] Include search functionality
  - [ ] Location: `docs/guides/task-system/index.md`

## Dev Notes

### Previous Story Insights

**From Story 4.7 (Task Analytics - Ready for Development):**

- Analytics dashboard with completion time, overdue, velocity, patterns, delegation, ROI
- Partner/BusinessOwner only access for firm-wide analytics
- Personal analytics available to all users
  [Source: docs/stories/4.7.story.md]

**From Story 4.6 (Task Collaboration):**

- Task comments with @mentions
- Status updates to case activity feed
- File attachments with version tracking
- Task history for all modifications
- Daily digest emails
  [Source: docs/prd/epic-4-natural-language-task-management-workflow-automation.md]

**From Story 4.5 (Team Workload Management):**

- Team calendar showing all members' tasks
- Workload meter (hours per person per day)
- AI-powered assignment suggestions
- Delegation with handoff notes
- OOO auto-reassignment
- Capacity planning with bottleneck forecasting
  [Source: docs/prd/epic-4-natural-language-task-management-workflow-automation.md]

**From Story 4.4 (Task Dependencies):**

- Task templates with dependencies
- Automatic task activation on prerequisite completion
- Deadline cascade with conflict warnings
- Critical path highlighting
- Automated reminder emails
  [Source: docs/prd/epic-4-natural-language-task-management-workflow-automation.md]

**From Story 4.3 (Time Estimation & Manual Time Logging):**

- Estimated time required on task creation
- AI suggestions based on similar past tasks
- Manual time logging with descriptions
- Quick-log from task context
- Weekly summary with billable/non-billable breakdown
- Estimated vs actual comparison
  [Source: docs/prd/epic-4-natural-language-task-management-workflow-automation.md]

**From Story 4.2 (Task Type System):**

- Six task types: Research, Document Creation, Document Retrieval, Court Dates, Meetings, Business Trips
- Each type has specific required fields
- Court Date auto-generates preparation subtasks
- Meeting tasks include agenda and attendees
- Business Trip triggers delegation workflow
  [Source: docs/prd/epic-4-natural-language-task-management-workflow-automation.md]

**From Story 4.1 (Natural Language Task Parser):**

- Command palette accepts natural language
- Extracts: task type, assignee, due date, case, priority
- Clarification dialog for ambiguous input
- Supports Romanian and English
- Confidence score with modification option
- Pattern learning for autocomplete
  [Source: docs/prd/epic-4-natural-language-task-management-workflow-automation.md]

### Existing UI Patterns

**Tooltip Component:**

```typescript
// Existing pattern at apps/web/src/components/ui/Tooltip.tsx
export const FeatureTooltips = {
  NaturalLanguageInput: () => (
    <SimpleTooltip content="Tastați în limbaj natural...">
      <HelpIcon />
    </SimpleTooltip>
  ),
  // Add new task-related tooltips here
};
```

[Source: apps/web/src/components/ui/Tooltip.tsx:71-136]

**Documentation Location:**

- User guides: `docs/guides/` (existing folder structure)
- Example: `docs/guides/dashboard-widgets.md` exists
  [Source: Glob results for docs/**/*.md]

### Recommended Libraries for Guided Tours

**Option 1: react-joyride (Recommended)**

- 5.7K GitHub stars
- MIT license
- React-specific
- Supports multiple tours
- Step highlighting
- ~30KB gzipped

**Option 2: intro.js-react**

- Wrapper for intro.js
- Well-documented
- More features but larger bundle

**Decision:** Use react-joyride for guided tours, aligning with React-first approach.

### File Locations

```
docs/guides/task-system/
├── index.md                        # NEW - Documentation index
├── overview.md                     # NEW - Task system overview
├── natural-language-creation.md    # NEW - NLP task creation guide
├── time-tracking.md                # NEW - Time tracking guide
├── dependencies.md                 # NEW - Task dependencies guide
├── workload-management.md          # NEW - Team workload guide
├── collaboration.md                # NEW - Collaboration features guide
├── analytics.md                    # NEW - Analytics guide (Partners)
├── troubleshooting.md              # NEW - Troubleshooting guide
├── best-practices.md               # NEW - Best practices
├── quick-reference/
│   ├── task-types.pdf              # NEW - Printable reference
│   ├── nlp-commands.pdf            # NEW - NLP examples
│   └── keyboard-shortcuts.pdf      # NEW - Shortcuts reference
└── video-scripts/
    ├── creating-first-task.md      # NEW - Video script
    ├── court-date-tasks.md         # NEW - Video script
    ├── time-tracking.md            # NEW - Video script
    ├── task-dependencies.md        # NEW - Video script
    └── workload-management.md      # NEW - Video script

apps/web/src/
├── components/
│   ├── ui/
│   │   └── Tooltip.tsx             # MODIFY - Extend FeatureTooltips
│   ├── onboarding/
│   │   └── TaskSystemTour.tsx      # NEW - Guided tour component
│   ├── task/
│   │   └── TaskHelpPanel.tsx       # NEW - Contextual help panel
│   ├── help/
│   │   └── QuickReferenceModal.tsx # NEW - Quick reference viewer
│   └── layout/
│       └── Header.tsx              # MODIFY - Add Help menu (or Sidebar.tsx)
└── lib/
    └── tour-steps.ts               # NEW - Tour step definitions
```

[Source: docs/architecture/unified-project-structure.md]

### Content Guidelines

**Language:**

- Primary: Romanian (platform default language)
- Secondary: English translations where applicable
- Use clear, non-technical language
- Include visual aids (screenshots, diagrams)

**Tone:**

- Professional but approachable
- Task-oriented ("To create a task, ...")
- Avoid jargon where possible

**Accessibility:**

- Alt text for all images
- Keyboard-navigable tours
- Screen reader compatible help content
- High contrast for printable materials

### Testing

**Documentation Testing (Manual):**

- Verify all links work correctly
- Proofread content for accuracy
- Test printable PDFs on different printers
- Validate guided tour steps match current UI

**Component Testing:**

- Unit tests for TaskSystemTour component
- Unit tests for TaskHelpPanel component
- Unit tests for QuickReferenceModal component
- Integration test for help menu navigation

**Test Locations:**

- `apps/web/src/components/onboarding/__tests__/TaskSystemTour.test.tsx`
- `apps/web/src/components/task/__tests__/TaskHelpPanel.test.tsx`
- `apps/web/src/components/help/__tests__/QuickReferenceModal.test.tsx`

## Rollback Plan

**N/A - Documentation only.**

If issues arise:

1. **Documentation Errors:** Update markdown files directly
2. **Tour Component Issues:** Disable tour by removing from navigation
3. **Help Panel Issues:** Hide help panel via feature flag if needed

No database changes or API modifications required.

## Change Log

| Date       | Version | Description                                  | Author             |
| ---------- | ------- | -------------------------------------------- | ------------------ |
| 2025-12-02 | 1.0     | Initial story draft from Epic 4 requirements | Bob (Scrum Master) |

---

## Dev Agent Record

### Agent Model Used

_To be filled by Dev Agent_

### Debug Log References

_To be filled by Dev Agent_

### Completion Notes List

_To be filled by Dev Agent_

### File List

_To be filled by Dev Agent_

---

## QA Results

_To be filled by QA Agent_
