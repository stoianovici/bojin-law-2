# OPS-225: OverviewTab Section Groups

**Type**: Feature
**Priority**: P2-Medium
**Status**: Completed
**Created**: 2025-12-25

## Problem

The OverviewTab mixes editable case configuration (details, contacts, references, billing) with read-only operational info (team, activity, deadlines, stats). Users can't easily distinguish what's configurable vs what's monitoring-only.

Current layout:

- CaseDetailsSection (editable)
- Team Members (read-only)
- ContactsSection (editable)
- ReferencesSection (editable)
- Recent Activity (read-only)
- Key Deadlines (read-only)
- Quick Stats (read-only)
- BillingSection (editable)
- Revenue KPIs (read-only)

## Solution

Create collapsible section groups with clear headers:

- **"Informații Dosar"** - editable sections with pencil icon
- **"Stare Operațională"** - read-only sections with eye icon

Use existing animation patterns. Add subtle background distinction between groups.

## Implementation

### 1. Create SectionGroup Component

```tsx
// apps/web/src/components/case/sections/SectionGroup.tsx
interface SectionGroupProps {
  title: string;
  icon: 'edit' | 'view';
  defaultOpen?: boolean;
  children: React.ReactNode;
}
```

Features:

- Collapsible with smooth animation (use existing Collapsible pattern)
- Header with icon (Pencil1Icon for edit, EyeOpenIcon for view)
- Subtle background color distinction
- Item count badge (optional)

### 2. Restructure OverviewTab

Group sections as follows:

**"Informații Dosar" (editable)**:

- CaseDetailsSection
- ContactsSection
- ReferencesSection
- BillingSection

**"Stare Operațională" (read-only)**:

- AI Summary
- Team Members
- Recent Activity
- Key Deadlines
- Quick Stats
- Revenue KPIs

### 3. Edit Mode Scope

Edit mode toggle (`?edit=true`) only affects "Informații Dosar" group. The operational section remains unchanged regardless of edit mode.

## Files to Modify

- `apps/web/src/components/case/sections/SectionGroup.tsx` - new component
- `apps/web/src/components/case/sections/index.ts` - export new component
- `apps/web/src/components/case/tabs/OverviewTab.tsx` - restructure layout

## Done When

- [x] SectionGroup component created with header, icon, collapse toggle
- [x] OverviewTab restructured with two section groups
- [x] "Informații Dosar" contains: CaseDetailsSection, ContactsSection, ReferencesSection, BillingSection
- [x] "Stare Operațională" contains: AI Summary, Team, Activity, Deadlines, Stats, Revenue
- [x] Edit mode toggle only affects "Informații Dosar" group
- [x] Visual distinction between groups (background/border)
- [x] Smooth collapse/expand animation
- [x] No TypeScript errors

## Implementation Notes

Created `SectionGroup` component (`apps/web/src/components/case/sections/SectionGroup.tsx`) with:

- Two variants: `editable` (pencil icon, white bg, blue border) and `readonly` (eye icon, gray bg)
- Radix Collapsible with existing smooth height animation
- localStorage persistence for collapsed state per group
- Optional count badge in header

Restructured `OverviewTab` to wrap sections:

- **"Informații Dosar" (editable)**: CaseDetailsSection, ContactsSection, ReferencesSection, BillingSection
- **"Stare Operațională" (readonly)**: CaseAISummarySection, Team, Activity, Deadlines, Stats, Revenue KPI

## Design Notes

- Use `bg-white` for editable group, `bg-gray-50` for operational group
- Collapsible should remember state (localStorage or default open)
- Mobile: both groups stack vertically, both default open
