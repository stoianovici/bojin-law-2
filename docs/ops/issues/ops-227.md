# OPS-227: Client Profile Page + Case Links

**Type**: Feature
**Priority**: P2-Medium
**Status**: Completed
**Created**: 2025-12-25
**Blocked By**: OPS-226

## Problem

When a client has multiple cases, there's no dedicated view to see them together. Users must go back to the cases list and filter manually. This makes it difficult to get a holistic view of a client relationship.

## Solution

Create client profile page at `/clients/[id]` showing:

- Client header with name, contact info
- Cases table with status badges, quick actions
- Link to client profile from case details (make client name clickable)

## Implementation

### 1. Client Profile Page

Create `/apps/web/src/app/clients/[id]/page.tsx`:

```tsx
export default function ClientProfilePage({ params }: { params: { id: string } }) {
  const { data, loading } = useClient(params.id);

  return (
    <div>
      <ClientHeader client={data.client} />
      <ClientCasesTable cases={data.client.cases} />
    </div>
  );
}
```

### 2. ClientHeader Component

Display:

- Client name (large heading)
- Contact info (email, phone, address)
- Case count badges: "X dosare active", "Y total"
- Optional: Quick actions (add case, edit client)

### 3. ClientCasesTable Component

Table columns:

- Nr. Intern (caseNumber) - links to case
- Titlu (title)
- Status - badge with color
- Tip (type)
- Data deschidere (openedDate)

Features:

- Sortable columns
- Status filter dropdown
- Click row to navigate to case

### 4. useClient Hook

```typescript
// apps/web/src/hooks/useClient.ts
export function useClient(clientId: string) {
  return useQuery(GET_CLIENT, {
    variables: { id: clientId },
    skip: !clientId,
  });
}
```

### 5. Link from Case Details

In CaseDetailsSection, make client name clickable:

```tsx
{
  caseData.clientName && (
    <div className="py-3">
      <dt className="text-sm font-medium text-gray-500 mb-1">Client</dt>
      <dd className="text-base text-gray-900">
        <Link
          href={`/clients/${caseData.clientId}`}
          className="text-blue-600 hover:text-blue-800 hover:underline"
        >
          {caseData.clientName}
        </Link>
      </dd>
    </div>
  );
}
```

## Files to Create

- `apps/web/src/app/clients/[id]/page.tsx` - main page
- `apps/web/src/components/client/ClientHeader.tsx` - header component
- `apps/web/src/components/client/ClientCasesTable.tsx` - cases table
- `apps/web/src/hooks/useClient.ts` - GraphQL hook

## Files to Modify

- `apps/web/src/components/case/sections/CaseDetailsSection.tsx` - make client name a link

## Done When

- [x] Client profile page created at `/clients/[id]`
- [x] ClientHeader shows client info and case counts
- [x] ClientCasesTable shows all client cases with status, type, dates
- [x] Table rows link to `/cases/[id]`
- [x] Client name in CaseDetailsSection links to `/clients/[clientId]`
- [x] Page handles loading and error states
- [x] No TypeScript errors

## Dependencies

- **OPS-226**: Client GraphQL Query (must be complete first)

## Design Notes

- Follow existing page layout patterns (max-width container, padding)
- Use existing table/card patterns from cases list
- Status badges should match CaseHeader status colors
- Romanian labels: "Dosare", "Activ", "ÃŽnchis", etc.
