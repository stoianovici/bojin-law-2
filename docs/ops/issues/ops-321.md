# OPS-321: Visual Polish

| Field        | Value                                        |
| ------------ | -------------------------------------------- |
| **Status**   | Verifying                                    |
| **Priority** | P3-Low                                       |
| **Platform** | Desktop + Mobile                             |
| **Created**  | 2025-12-28                                   |
| **Parent**   | [OPS-315](ops-315.md)                        |
| **Depends**  | [OPS-319](ops-319.md), [OPS-320](ops-320.md) |

## Goal

Add polish: animations, transitions, focus states, loading skeletons, empty states, and error states.

## Tasks

### 1. Transitions

- `transition: all 0.15s ease` on interactive elements
- Hover/active state animations
- Page transition effects

### 2. Focus States (Accessibility)

- Focus ring with accent color
- `:focus-visible` for keyboard navigation only
- Skip visible focus on mouse clicks

```css
.focusable:focus-visible {
  outline: 2px solid #5e6ad2;
  outline-offset: 2px;
}
```

### 3. Loading Skeletons

- Dark mode shimmer effect
- Update existing skeleton components
- Pulse animation with dark colors

```css
.skeleton {
  background: linear-gradient(90deg, #18181b 0%, #232326 50%, #18181b 100%);
  animation: shimmer 1.5s infinite;
}
```

### 4. Empty States

- Dark themed empty illustrations
- Muted text styling
- Action buttons where appropriate

### 5. Error States

- Error backgrounds (`rgba(239, 68, 68, 0.15)`)
- Error borders
- Error text color

## Verification

- [x] Interactive elements have smooth transitions
- [x] Focus rings visible only on keyboard navigation
- [x] Loading skeletons work in dark mode
- [x] Empty states look appropriate
- [x] Error states clearly visible
- [ ] WCAG AA contrast ratios pass
- [ ] Test on real iOS device
- [ ] Test on real Android device
- [x] Run `pnpm preflight` - Production build succeeds

## Implementation Summary

### CSS Utilities Added (`globals.css`)

- **Transitions**: `.interactive`, `.btn-transition`, `.card-transition`, `.touch-feedback`, `.fade-transition`
- **Focus States**: `.focus-ring`, `.focus-ring-inset`, `.skip-link`
- **Skeletons**: `.skeleton`, `.skeleton-shimmer`, `.skeleton-text`, `.skeleton-avatar`, `.skeleton-card`, etc.
- **Empty States**: `.empty-state`, `.empty-state-icon`, `.empty-state-title`, `.empty-state-description`, `.empty-state-action`
- **Error/Warning/Success States**: `.error-state`, `.error-text`, `.error-inline`, `.input-error`, `.warning-state`, `.success-state`

### Component Updates

- **Button** (`button.tsx`): Added `transition-all duration-150 ease-in-out active:scale-[0.98]`
- **Card** (`card.tsx`): Added `transition-all duration-200 ease-in-out`
- **Input** (`input.tsx`): Added `transition-all duration-150 ease-in-out`
- **Skeleton** (`skeleton.tsx`): Updated to use Linear design token CSS classes (`skeleton-shimmer`, `skeleton`)

## Session Log

| Date       | Action                                                   |
| ---------- | -------------------------------------------------------- |
| 2025-12-28 | Issue created                                            |
| 2025-12-28 | Implemented all polish features, production build passes |
