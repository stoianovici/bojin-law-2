# OPS-324: Mobile Component Polish

**Status**: Verifying
**Priority**: P1-High
**Type**: Feature
**Platform**: Mobile
**Parent**: OPS-322
**Blocked by**: None

---

## Problem Statement

Mobile components exist at `apps/web/src/components/mobile/` but may not fully match the Linear mobile mockup patterns. Need to ensure consistency with Linear design tokens and proper mobile UX patterns.

---

## Approach

Review and polish existing mobile components:

### Audit Checklist

1. **Token Usage**
   - Replace any `bg-gray-*` with Linear bg tokens
   - Replace any `text-gray-*` with Linear text tokens
   - Ensure accent colors use `linear-accent`

2. **Touch UX**
   - Verify touch targets are 44x44px minimum
   - Add `:active` states (not `:hover`) for touch feedback
   - Use `transform: scale(0.98)` on active for tactile feel

3. **Safe Areas**
   - Verify `env(safe-area-inset-*)` usage
   - Tab bar respects bottom safe area
   - Masthead respects top safe area

4. **Component Review**
   - `MobileTabBar.tsx` - matches mockup tab bar
   - `MobileDrawer.tsx` - smooth slide animation
   - `MobileHome.tsx` - masthead + briefing layout
   - `BriefRow.tsx` - activity feed items
   - `FAB.tsx` - floating action button styling

### Mobile Mockup Patterns

```css
/* Active states (not hover) */
.item:active {
  background: var(--bg-hover);
  transform: scale(0.98);
}

/* Touch targets */
min-height: 44px;
min-width: 44px;

/* Safe areas */
padding-top: env(safe-area-inset-top);
padding-bottom: env(safe-area-inset-bottom);
```

---

## Acceptance Criteria

- [x] All mobile components use Linear tokens (no gray-\*, blue-600)
- [x] Touch targets verified (44x44px minimum)
- [x] Active states added for touch feedback
- [x] Safe area insets handled correctly
- [x] Matches `linear-style-mobile-mockup.html` structure
- [x] Tab bar, drawer, FAB all styled correctly

---

## Key Files

- `apps/web/src/components/mobile/*.tsx`
- `docs/design/linear-style-mobile-mockup.html` (reference)
- `docs/design/linear-style-tokens.md` (reference)

---

## Notes

- This is a prerequisite for OPS-328 (Mobile Page Consistency)
- Mobile and Desktop are separate UI tracks - changes here shouldn't affect desktop
- Test on actual mobile device or Chrome DevTools mobile emulation

---

## Implementation Notes (2025-12-28)

### Components Already Using Linear Tokens (no changes needed)

- `MobileTabBar.tsx` - ✅ Correct tokens, safe area padding, 44px+ touch targets
- `MobileDrawer.tsx` - ✅ Correct tokens, spring animations
- `MobileHome.tsx` - ✅ Correct tokens, safe area handling
- `BriefRow.tsx` - ✅ Correct tokens, active states
- `AssistantFAB.tsx` - ✅ Correct gradient, 56px touch target
- `MobileBriefing.tsx` - ✅ Correct tokens
- `SectionHeading.tsx` - ✅ Correct tokens
- `FeedSection.tsx` - ✅ Correct tokens

### Components Fixed

1. **BriefCard.tsx** - Replaced gray-_/blue-_ with Linear tokens (bg, text, borders)
2. **AssistantSheet.tsx** - Replaced gray-\*/white with Linear tokens
3. **MobileHeader.tsx** - Replaced gray-_/white/blue-_ with Linear tokens
4. **BriefFeed.tsx** - Replaced gray-_/blue-_ with Linear tokens

### Touch Targets Fixed (44px minimum)

- `MobileHome.tsx` - Avatar button: 36px → 44px
- `MobileHeader.tsx` - All buttons now 44x44px
- `MobileDrawer.tsx` - Close button, nav items, footer links all 44px+
- `AssistantSheet.tsx` - Close button now 44x44px
