# OPS-309: MobileTabBar Component

**Type**: Feature | **Priority**: P1-High | **Platform**: Mobile
**Status**: Completed
**Parallel**: Yes (Phase 1)

## Problem

Mobile users have no visible navigation - only hidden edge swipe to drawer. Need persistent bottom tab bar with 4 core destinations.

## Approach

Create `MobileTabBar` component with:

- 4 tabs: Dosare (Scale), Documente (FileText), Sarcini (CheckSquare), Comunicari (Mail)
- Active state highlighting (blue icon + text)
- Safe area padding for notched devices (`pb-[env(safe-area-inset-bottom)]`)
- Fixed position at bottom, z-40 (below FAB z-50)
- Height ~56-60px, 44pt min tap targets per iOS HIG
- Uses `usePathname()` for active detection

## Implementation

```tsx
// apps/web/src/components/mobile/MobileTabBar.tsx

'use client';

import React from 'react';
import Link from 'next/link';
import { usePathname } from 'next/navigation';
import { Scale, FileText, CheckSquare, Mail } from 'lucide-react';
import { clsx } from 'clsx';

const tabs = [
  { id: 'cases', label: 'Dosare', href: '/cases', icon: Scale },
  { id: 'documents', label: 'Documente', href: '/documents', icon: FileText },
  { id: 'tasks', label: 'Sarcini', href: '/tasks', icon: CheckSquare },
  { id: 'communications', label: 'Mesaje', href: '/communications', icon: Mail },
];

export function MobileTabBar() {
  const pathname = usePathname();

  const isActive = (href: string) => {
    if (href === '/') return pathname === '/';
    return pathname?.startsWith(href);
  };

  return (
    <nav
      className="fixed bottom-0 left-0 right-0 z-40 bg-white border-t border-gray-200"
      style={{ paddingBottom: 'env(safe-area-inset-bottom)' }}
    >
      <div className="flex items-center justify-around h-14">
        {tabs.map((tab) => {
          const active = isActive(tab.href);
          const Icon = tab.icon;
          return (
            <Link
              key={tab.id}
              href={tab.href}
              className={clsx(
                'flex flex-col items-center justify-center flex-1 h-full min-w-[64px] py-1',
                'transition-colors duration-200',
                active ? 'text-blue-600' : 'text-gray-500'
              )}
            >
              <Icon className="w-6 h-6" />
              <span className="text-xs mt-0.5 font-medium">{tab.label}</span>
            </Link>
          );
        })}
      </div>
    </nav>
  );
}
```

## Done When

- [x] Component renders 4 tabs with Lucide icons
- [x] Active tab highlighted based on current route
- [x] Safe area insets respected on notched devices
- [x] Tap targets meet 44pt minimum (h-14 = 56px)
- [x] No overlap with AssistantFAB (z-40 vs z-50)

## Files

- `apps/web/src/components/mobile/MobileTabBar.tsx` - new
- `apps/web/src/components/mobile/index.ts` - add export

## Testing

- Test on iPhone 14 Pro viewport (390x844)
- Verify all 4 tabs navigate correctly
- Check active state updates on navigation
- Confirm safe area works on notched device simulation
