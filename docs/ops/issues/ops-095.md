# OPS-095: Task Date/Time Simplification

## Summary

Simplify task date/time handling: tasks have only a date by default. Time field is only shown for Meeting and CourtDate task types.

## Background

Currently, the task creation form shows a datetime-local input for all task types. In practice:

- Most legal work is "due by end of day" - doesn't need a specific time
- Only meetings and court dates require specific times
- The current UI adds unnecessary complexity

## Requirements

### Acceptance Criteria

1. Task creation/edit form shows date-only picker by default
2. Time field appears only when task type is `Meeting` or `CourtDate`
3. Existing tasks with times continue to display correctly
4. Calendar view sorts: time-specific tasks first, then date-only tasks by priority
5. Drag-and-drop preserves time for time-specific tasks, moves date for date-only tasks

### Data Model

No schema changes needed - `dueTime` field is already optional (VARCHAR(5) nullable).

## Implementation

### Files to Modify

1. **TaskDetailModal.tsx** - Conditional time field visibility based on task type
2. **TaskCreationBar.tsx** - Update NLP parsing to only extract time for meeting/court types
3. **MultiWeekCalendarView.tsx** - Already handles this pattern (verify)

### UI Changes

```
Current:
┌─────────────────────────────────┐
│ Data scadentă                   │
│ [2025-12-27T14:00]              │  ← datetime-local for all
└─────────────────────────────────┘

Proposed:
┌─────────────────────────────────┐
│ Data scadentă                   │
│ [27.12.2025]                    │  ← date only (default)
└─────────────────────────────────┘

For Meeting/CourtDate:
┌─────────────────────────────────┐
│ Data și ora                     │
│ [27.12.2025]  [14:00]           │  ← date + time
└─────────────────────────────────┘
```

## Priority

P2-Medium

## Status

**Fixed** - Implementation complete

## Session Log

- [2025-12-22] Session 1: Implemented task date/time simplification
  - Modified `TaskDetailModal.tsx` to show date-only input by default
  - Added separate time field that only appears for Meeting and CourtDate task types
  - Updated form state to handle date and time separately
  - Added helper text explaining which task types don't need specific times
  - Verified with Playwright MCP: Meeting tasks show date + time, DocumentCreation shows date only

## Files Modified

- `apps/web/src/components/task/TaskDetailModal.tsx` - Conditional time field based on task type

## Local Verification Status

| Step           | Status     | Date       | Notes                        |
| -------------- | ---------- | ---------- | ---------------------------- |
| Prod data test | ✅ Passed  | 2025-12-22 | Verified with Playwright MCP |
| Preflight      | ⬜ Pending |            |                              |
| Docker test    | ⬜ Pending |            |                              |

**Verified**: Partial (dev server tested)

## Related Issues

- OPS-096: Task Card Display Redesign
- OPS-097: AI Task Creation with Editable Duration Card
