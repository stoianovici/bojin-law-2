# OPS-327: Keyboard Shortcuts System

**Status**: In Progress
**Priority**: P3-Low
**Type**: Feature
**Platform**: Desktop
**Parent**: OPS-322
**Blocked by**: OPS-323

---

## Problem Statement

Linear shows keyboard shortcut hints on hover and supports keyboard navigation throughout the app. Our app has no shortcut system or visible hints.

---

## Approach

### Hook: `useKeyboardShortcuts`

```typescript
// apps/web/src/hooks/useKeyboardShortcuts.ts

interface Shortcut {
  key: string;           // e.g., 'k', 'ArrowDown'
  modifiers?: ('meta' | 'ctrl' | 'shift' | 'alt')[];
  action: () => void;
  description: string;
  scope?: 'global' | 'page' | 'component';
}

function useKeyboardShortcuts(shortcuts: Shortcut[]) {
  // Register shortcuts on mount
  // Cleanup on unmount
  // Handle scope priority (component > page > global)
}
```

### Component: `ShortcutHint`

```tsx
// apps/web/src/components/linear/ShortcutHint.tsx

// Shows keyboard shortcut badge
<ShortcutHint keys={['⌘', 'K']} />
// Renders: ⌘K in styled badge
```

### Tooltip Integration

- Show shortcut hint in tooltips after hover delay (500ms)
- Non-intrusive positioning
- Consistent styling with Linear

### Standard Shortcuts

| Shortcut | Action | Scope |
|----------|--------|-------|
| `⌘K` | Open command palette | Global |
| `⌘/` | Show all shortcuts | Global |
| `Escape` | Close modal/panel | Global |
| `↑/↓` | Navigate lists | Component |
| `Enter` | Open selected item | Component |
| `⌘N` | New item (context-aware) | Page |

---

## Acceptance Criteria

- [x] `useKeyboardShortcuts` hook created
- [x] `ShortcutHint` component created
- [ ] Shortcut hints appear on hover (after delay)
- [ ] Arrow keys navigate lists (cases, tasks)
- [x] Escape closes modals/panels/sidebars
- [x] `⌘/` shows shortcut reference
- [x] No conflicts with browser shortcuts

---

## Key Files

- `apps/web/src/hooks/useKeyboardShortcuts.ts` (created)
- `apps/web/src/components/linear/ShortcutHint.tsx` (created)
- `apps/web/src/components/linear/ShortcutReference.tsx` (created)
- `apps/web/src/components/linear/GlobalShortcuts.tsx` (created)
- `apps/web/src/stores/navigation.store.ts` (updated)
- `packages/shared/types/src/navigation.ts` (updated)
- `apps/web/src/app/layout.tsx` (updated)
- `apps/web/src/components/ui/tooltip.tsx` (may need update for hover hints)

---

## Notes

- This is lower priority than page migration
- Start with basic navigation shortcuts, expand later
- Consider accessibility - all keyboard users should benefit
- May integrate with command palette from OPS-325
