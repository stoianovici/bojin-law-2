# OPS-308: MobileHome Newspaper Integration

**Type**: Feature | **Priority**: P1-High | **Platform**: Mobile
**Status**: Completed
**Created**: 2024-12-28
**Blocked By**: OPS-306, OPS-307

## Problem

Need to integrate the new typography components into MobileHome and replace the header with a minimal masthead to create a unified "newspaper brief" reading experience.

## Approach

### 1. Masthead

Replace `MobileHeader` with a simple date line:

```tsx
<div className="px-4 pt-4 pb-2">
  <span className="text-xs font-semibold text-gray-400 uppercase tracking-wider">
    Rezumat · {format(new Date(), 'EEE d MMM', { locale: ro })}
  </span>
</div>
```

### 2. Replace Components

- Use `SectionHeading` instead of `FeedSection` header
- Use `BriefRow` instead of `BriefCard`
- Remove collapsible behavior (or make it optional)

### 3. Navigation

- Drawer access via swipe from left edge (already works via `useEdgeSwipe`)
- Profile in drawer (already there)

### 4. Pull-to-Refresh

Keep existing behavior, just starts from higher position without header offset.

## Visual Spec

```
┌─────────────────────────────────┐
│                                 │
│  REZUMAT · VIN 27 DEC           │  ← Small caps masthead
│                                 │
├─────────────────────────────────┤
│                                 │
│  URGENTE ──────────────── (3)   │  ← Section heading with rule
│                                 │
│  **Ion Popescu**                │  ← Bold sender/title
│  Email primit despre contract   │  ← Normal preview
│  └ SC ACME SRL · acum 4 min     │  ← Small gray metadata
│                                 │
│  **Termen depunere recurs**     │
│  Dosar nr. 123/2024             │
│  └ Ionescu vs. Statul · mâine   │
│                                 │
│  DOSARELE MELE ────────── (5)   │
│  ...                            │
│                                 │
│                           [AI]  │  ← FAB stays
└─────────────────────────────────┘
```

## Done When

- [x] MobileHome renders with masthead instead of MobileHeader
- [x] Sections use `SectionHeading` style
- [x] Items use `BriefRow` typography style
- [x] Drawer still accessible via edge swipe
- [x] Pull-to-refresh works from top
- [x] FAB still visible at bottom-right
- [x] Visual verification at 390x844 (iPhone 14 Pro)

## Files

- `apps/web/src/components/mobile/MobileHome.tsx` - Modify
- `apps/web/src/components/mobile/MobileHeader.tsx` - Keep for other pages (no changes)

## Dependencies

- OPS-306: BriefRow Component
- OPS-307: SectionHeading Component

## Session Log

### 2024-12-28 - Implementation Complete

**Changes made:**

1. Replaced `MobileHeader` import with `Masthead` component (inline, formats date in Romanian)
2. Replaced `FeedSection` with `SectionHeading` for newspaper-style section dividers
3. Replaced `BriefCard` with `BriefRow` for typography-first item display
4. Removed `toggleDrawer` callback (no longer needed without MobileHeader)
5. Updated loading skeleton to use `BriefRowSkeleton`

**Verified:**

- Masthead shows "REZUMAT · DUM 28 DEC" (capitalized, Romanian locale)
- Section headings with horizontal rules and counts
- BriefRow items with bold sender, preview text, tree-prefix metadata
- FAB visible at bottom-right
- Screenshot captured at 390x844
