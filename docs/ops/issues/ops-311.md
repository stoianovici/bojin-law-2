# OPS-311: Theme Toggle in MobileDrawer

**Type**: Feature | **Priority**: P2-Medium | **Platform**: Mobile
**Status**: Completed
**Parallel**: Yes (Phase 1)

## Problem

No way to toggle light/dark theme on mobile. Theme preference should be accessible in drawer.

## Approach

Add theme toggle button to MobileDrawer footer:

- Position: Above "Setari" link, in footer section
- Style: Row with label + icon button (Sun/Moon from Lucide)
- Use `next-themes` package or check existing theme implementation
- Toggle between 'light' and 'dark' modes
- Show current mode icon (Sun for light, Moon for dark)

## Implementation

First, check if `next-themes` is already installed:

```bash
grep -r "next-themes" package.json
```

If not, add provider in app layout. Then modify MobileDrawer:

```tsx
// In MobileDrawer.tsx - add to imports
import { useTheme } from 'next-themes';
import { Sun, Moon } from 'lucide-react';

// In footer section, before Settings link:
const { theme, setTheme } = useTheme();

// Add toggle row:
<div className="flex items-center justify-between px-3 py-2.5">
  <span className="text-gray-700">Tema</span>
  <button
    onClick={() => setTheme(theme === 'dark' ? 'light' : 'dark')}
    className="p-2 rounded-lg hover:bg-gray-100 transition-colors"
    aria-label={theme === 'dark' ? 'Schimba la tema luminoasa' : 'Schimba la tema intunecata'}
  >
    {theme === 'dark' ? (
      <Moon className="w-5 h-5 text-gray-600" />
    ) : (
      <Sun className="w-5 h-5 text-gray-600" />
    )}
  </button>
</div>;
```

## Done When

- [x] Toggle button visible in drawer footer
- [x] Clicking toggles between light/dark
- [x] Icon reflects current theme (Sun/Moon)
- [x] Preference persists across sessions (localStorage)
- [x] Works with existing theme system or new `next-themes` setup

## Files

- `apps/web/src/components/mobile/MobileDrawer.tsx` - add theme toggle to footer
- `apps/web/src/app/layout.tsx` - add ThemeProvider if not present (may already exist)

## Notes

If `next-themes` is not installed:

```bash
pnpm add next-themes
```

Wrap app in ThemeProvider:

```tsx
// app/layout.tsx
import { ThemeProvider } from 'next-themes';

<ThemeProvider attribute="class" defaultTheme="light">
  {children}
</ThemeProvider>;
```

## Testing

- Toggle theme in drawer
- Close drawer, reopen - theme persists
- Reload page - theme persists
- Check both light and dark modes render correctly
