# OPS-272: Team Activity View Mode

**Type**: Feature
**Priority**: P1-High
**Status**: Closed
**Blocked By**: ~~OPS-271~~ (Complete)

## Problem

Partners can't see at-a-glance what the team worked on today/this week. They need a quick overview of completed work grouped by time period and team member.

## Solution

Read-only view grouped by time period (Astăzi, Săptămâna aceasta, Luna aceasta), then by team member, showing completed tasks with hours logged.

## Implementation

1. Create `TeamActivityView.tsx` - main view mode component
2. Create GraphQL query `teamActivity` for completed tasks:
   - Filter by `completedAt` in selected period
   - Join with TimeEntry for hours logged
   - Include case name, task description, assignee
3. Group by time period using existing `useTimePeriodGroups` pattern (OPS-267)
4. Within each period, group by `assignedTo` user
5. Create `TeamMemberActivityCard.tsx` - collapsible card per team member:
   - Avatar + name header
   - Task count + total hours badge
   - Expandable task list
6. Create `ActivityTaskItem.tsx` - task row showing:
   - Case name (linked)
   - Task description
   - Hours logged
   - Completion time
7. Summary stats per section header (X sarcini · Y ore)

## Done When

- [x] View mode shows time-grouped activity (Astăzi, Săptămâna, Luna)
- [x] Each period section shows tasks grouped by team member
- [x] Team member cards are collapsible
- [x] Each task shows case, description, hours, completion time
- [x] Section headers show summary stats
- [x] Respects case and team filters from OPS-271
- [x] Empty state when no activity in period

## Files

- `apps/web/src/components/team-activity/TeamActivityView.tsx` - main component
- `apps/web/src/components/team-activity/TeamMemberActivityCard.tsx` - per-user card
- `apps/web/src/components/team-activity/ActivityTaskItem.tsx` - task row
- `apps/web/src/hooks/useTeamActivity.ts` - extend with query
- `services/gateway/src/graphql/schema/team-activity.graphql` - new schema
- `services/gateway/src/graphql/resolvers/team-activity.resolvers.ts` - new resolver

## GraphQL Schema

```graphql
type Query {
  teamActivity(filters: TeamActivityFilters!): TeamActivityResult!
}

input TeamActivityFilters {
  caseId: ID
  userIds: [ID!]
  periodStart: DateTime!
  periodEnd: DateTime!
}

type TeamActivityResult {
  entries: [ActivityEntry!]!
  totalTasks: Int!
  totalHours: Float!
}

type ActivityEntry {
  id: ID!
  task: Task!
  user: User!
  hoursLogged: Float!
  completedAt: DateTime!
}
```

## UI Text (Romanian)

- Section headers: "Astăzi", "Săptămâna aceasta", "Luna aceasta", "Mai vechi"
- Stats format: "X sarcini · Y ore"
- Empty state: "Nicio activitate în această perioadă"
