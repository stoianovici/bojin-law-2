# OPS-264: SubtaskBuilder Component

**Type**: Feature | **Priority**: P2-Medium | **Status**: Ready

## Problem

Existing `SubtaskPanel` requires `parentTaskId` for GraphQL mutations - can't be used during task creation when no task exists yet. Need a local-state version that collects subtasks before submission.

## Approach

Create `SubtaskBuilder` for local-state subtask management:

- Props: `subtasks: SubtaskDraft[]`, `onChange: (subtasks: SubtaskDraft[]) => void`
- Inline "quick add" input (title only, simple)
- List with remove button on each item
- No priority/date in creation mode (keep minimal)
- Subtasks stored as `{ title: string; tempId: string }[]`

## Done When

- [x] Component renders empty state with "Adaugă sub-sarcină" button
- [x] Clicking button shows inline text input
- [x] Enter or blur with text adds subtask to list
- [x] Each subtask shows with × remove button
- [x] Removing subtask calls onChange with updated list
- [x] No network calls (pure local state)

## Files

- `apps/web/src/components/task/SubtaskBuilder.tsx` ✅

## Reference

- UI pattern: `apps/web/src/components/task/SubtaskPanel.tsx`

## Technical Notes

```tsx
interface SubtaskDraft {
  tempId: string; // crypto.randomUUID() or nanoid
  title: string;
}

interface SubtaskBuilderProps {
  subtasks: SubtaskDraft[];
  onChange: (subtasks: SubtaskDraft[]) => void;
  disabled?: boolean;
}
```

Keep it minimal - title only. Priority/due date can be added when editing the task later.

## Session Log

### 2025-12-26

Created `SubtaskBuilder.tsx` component with:

- Empty state showing "Adaugă sub-sarcină" button (dashed border style matching SubtaskPanel)
- Click shows inline text input with focus
- Enter key or blur adds subtask to list
- Escape key cancels input
- List items with hover-reveal × remove button
- All operations are local state via `onChange` callback
- TypeScript compiles successfully

**Status**: Complete - ready for integration with CreateTaskModal (OPS-265)
