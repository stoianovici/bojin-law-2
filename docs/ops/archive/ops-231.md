# OPS-231: Simplify Search Frontend

**Type**: Refactor | **Priority**: P2-Medium | **Status**: Resolved

**Blocked by**: OPS-230 (resolved)

## Problem

Frontend has unused search mode selector and match type badges that reference removed GraphQL fields.

## Solution

Removed all SearchMode and matchType related code from the frontend.

### Hook Changes (`useSearch.ts`)

1. **Removed types**:
   - `SearchMode` type
   - `SearchMatchType` type

2. **Simplified hook interface**:
   - Removed `searchMode` state and `setSearchMode` setter
   - Removed `defaultMode` option
   - Simplified `UseSearchReturn` interface

3. **Simplified GraphQL query**:
   - Removed `searchMode` from input variables
   - Removed `searchMode` from response
   - Removed `matchType` from all result fragments

4. **Updated RecentSearch type**:
   - Removed `searchMode` field

### SearchFiltersPanel Changes

1. Removed `searchMode` and `onSearchModeChange` props
2. Removed `SEARCH_MODES` constant
3. Removed search mode dropdown UI section

### SearchResults Changes

1. Removed `MatchTypeBadge` component entirely
2. Removed `matchType` badge from case, document, and client result cards

### Search Page Changes (`/search`)

1. Removed `searchMode` and `setSearchMode` from useSearch destructuring
2. Removed mode URL parameter handling
3. Simplified SearchFiltersPanel props

### Test Updates

1. Updated `SearchFiltersPanel.test.tsx`:
   - Removed `searchMode` and `onSearchModeChange` from defaultProps
   - Removed entire "Search Mode" test suite
   - Updated collapse tests to use "Interval de date" instead of "Mod de cÄƒutare"

## Done

- [x] `SearchMode` type removed from hook
- [x] `searchMode` state and setter removed
- [x] Query no longer sends `searchMode`
- [x] Search mode dropdown removed from filter panel
- [x] Match type badges removed from results
- [x] TypeScript compiles without errors
- [x] Tests updated

## Files Changed

- `apps/web/src/hooks/useSearch.ts`
- `apps/web/src/components/search/SearchFiltersPanel.tsx`
- `apps/web/src/components/search/SearchFiltersPanel.test.tsx`
- `apps/web/src/components/search/SearchResults.tsx`
- `apps/web/src/app/search/page.tsx`

## Notes

This must be deployed together with OPS-230 (schema changes) to avoid GraphQL errors.
