# OPS-268: TimePeriodSection Component

**Status**: Completed
**Type**: Feature
**Priority**: P2-Medium
**Complexity**: S
**Blocked by**: None

## Problem

Need a collapsible section UI for time-grouped content. Existing `SectionGroup` is designed for case overview sections (editable vs readonly). Time sections need a lighter design with calendar icon and period-appropriate styling.

## Approach

Create `TimePeriodSection` component that:

- Uses Radix Collapsible (via existing `ui/collapsible.tsx`)
- Shows calendar icon + period label + count badge
- Persists open/closed state in localStorage
- Has smooth expand/collapse animation (already in `animate-expandHeight`)
- Lighter visual weight than `SectionGroup`

```tsx
<TimePeriodSection
  periodKey="this-week"
  label="Saptamana aceasta"
  count={12}
  defaultOpen={true}
  storageKey="docs-time-section"
>
  {children}
</TimePeriodSection>
```

### Visual Design

```
+-----------------------------------------------------+
| Calendar Saptamana aceasta (12)                  v  |
+-----------------------------------------------------+
|  [Content]                                          |
+-----------------------------------------------------+
```

- Header: Calendar icon, label, count badge, chevron
- Collapsed: Only header visible
- Animation: Smooth height transition

## Done When

- [x] Component renders with calendar icon, label, count badge
- [x] Click toggles open/closed state with animation
- [x] State persists across page reloads via localStorage
- [x] Collapsed state shows only header
- [x] Keyboard accessible (Enter/Space to toggle)

## Files

- `apps/web/src/components/ui/TimePeriodSection.tsx` (new)

## Session Log

### Session 2025-12-26

**Completed** - Created `TimePeriodSection` component.

**Implementation Details**:

- Uses Radix Collapsible via existing `@/components/ui/collapsible.tsx`
- Calendar icon and ChevronDown from lucide-react
- Count badge using inline styling (rounded-full, bg-muted)
- localStorage persistence with configurable storage key prefix
- Smooth animation via existing `animate-expandHeight`/`animate-collapseHeight`
- Full keyboard accessibility (button trigger, Enter/Space support, aria-expanded, aria-controls)
- SSR-safe: checks for `window` before accessing localStorage

**API**:

```tsx
<TimePeriodSection
  periodKey="this-week"
  label="Săptămâna aceasta"
  count={12}
  defaultOpen={true}
  storageKey="docs-time-section"
>
  {children}
</TimePeriodSection>
```
