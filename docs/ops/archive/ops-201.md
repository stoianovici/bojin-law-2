# OPS-201: Move "+" Button to ConversationHeader

**Status:** Resolved | **Priority:** P2-Medium | **Type:** Feature | **Created:** 2025-12-24

## Overview

The "+" button for new compose is in the action bar. It should be in the header, inline with the subject (right-aligned).

## Dependencies

- **Depends on:** None
- **Blocks:** OPS-203 (Assigned Action Bar)
- **Parallel with:** OPS-200, OPS-202

## Context

Part of Communications Action Bar Redesign epic. The "+" button placement affects the visual hierarchy - it belongs with the thread context (header) rather than the actions.

## Requirements

### 1. Update ConversationHeader

```tsx
interface ConversationHeaderProps {
  thread: CommunicationThread;
  sentCount: number;
  totalCount: number;
  userEmail: string | null;
  onNewCompose?: () => void; // NEW
}
```

### 2. Add "+" Button

Position in header row, right-aligned:

```
┌─────────────────────────────────────────────────────────────┐
│ Subject: Re: Contract de vânzare                       [+] │
│ Case • Participants • Message count                        │
└─────────────────────────────────────────────────────────────┘
```

Button styling:

- Plus icon
- Subtle background (gray-100)
- Hover state (gray-200)
- Rounded

### 3. Remove from Action Bar

Remove "+ Nou" button from ConversationView action bar.

### 4. Wire to Outlook

Button calls `openOutlookCompose()` from `utils/outlook.ts`.

## Acceptance Criteria

- [x] "+" button visible in header, right-aligned with subject
- [x] Clicking opens Outlook compose
- [x] "+ Nou" removed from action bar
- [x] Button has appropriate hover/focus states

## Files to Modify

- `apps/web/src/components/communication/ConversationHeader.tsx`
- `apps/web/src/components/communication/ConversationView.tsx`

## Estimated Scope

Small - UI rearrangement.

---

## Session Log

### 2025-12-24

**Done:**

- Added `onNewCompose` prop to `ConversationHeaderProps`
- Added "+" button in header, right-aligned with subject line
- Button has gray-100 background, hover:gray-200, rounded styling
- Passed `openOutlookCompose` from ConversationView to ConversationHeader
- Removed "+ Nou" button from normal mode action bar
- Removed unused `Plus` import from ConversationView
- Type check passes

**Result:** Complete - "+" button now in header, action bar only shows "Răspunde"
