# OPS-230: Simplify Search GraphQL Schema

**Type**: Refactor | **Priority**: P2-Medium | **Status**: Resolved

**Blocked by**: OPS-229 (resolved)

## Problem

GraphQL schema has `SearchMode` enum and `matchType` fields that are no longer needed after removing semantic search from the backend.

## Solution

Removed all semantic search related types and fields from the GraphQL schema and resolvers.

### Schema Changes (`search.graphql`)

1. **Removed `SearchMode` enum** - was defining FULL_TEXT, SEMANTIC, HYBRID modes
2. **Removed `SearchMatchType` enum** - was indicating how results were matched
3. **Removed `searchMode` from `SearchInput`** - no longer needed
4. **Removed `searchMode` from `SearchResponse`** - no longer returned
5. **Removed `matchType` from result types** - CaseSearchResult, DocumentSearchResult, ClientSearchResult
6. **Removed `searchMode` from `SearchHistory`** - recent searches

### Resolver Changes (`search.resolvers.ts`)

1. Removed `searchMode` from search query response
2. Removed `searchMode` mapping from recentSearches
3. Removed `matchType` resolvers from all result types

## Done

- [x] `SearchMode` enum removed from schema
- [x] `searchMode` field removed from input/response
- [x] `SearchMatchType` enum removed from schema
- [x] `matchType` field removed from all result types
- [x] Resolvers updated to match new schema
- [x] GraphQL schema generates without errors
- [x] Frontend updated to not send/expect these fields (OPS-231)

## Files Changed

- `services/gateway/src/graphql/schema/search.graphql`
- `services/gateway/src/graphql/resolvers/search.resolvers.ts`

## Notes

This is a breaking API change. Deployed together with OPS-231 (frontend changes).
