# OPS-290: Design Folder Email Display (Card View)

**Type**: UI | **Priority**: P1-High | **Complexity**: S
**Status**: Open
**Parallel**: Yes (Phase 1)
**Epic**: Sync All Outlook Folders

## Problem

Outlook folder emails need simple card/list display - NOT ConversationView bubbles. Bubbles are only for case-assigned emails.

## Key Constraint

**Only case-assigned emails are processed.** Everything else is display-only:

- No AI cleaning (`bodyContentClean`)
- No bubble/chat view
- No automatic classification

Display hierarchy:

```
DOSARE (Cases)        → ConversationView (bubbles, cleaned content, processed)
FOLDERE OUTLOOK       → Card/list view (raw content, unprocessed)
INSTANȚE (Court)      → Card/list view (raw content, unprocessed)
NECLAR (Uncertain)    → Card/list view (raw content, unprocessed)
```

## Approach

- Use `MessageView` (card style) not `ConversationView` (bubbles)
- Show raw `bodyPreview` / `bodyContent` - no `bodyContentClean`
- Simple read-only display with sender, subject, date, preview
- "Assign to case" action available
- Follow existing sidebar item patterns

## Done When

- [x] Component designed/prototyped
- [x] Follows existing sidebar patterns (SectionHeader, listItemVariants)
- [x] Shows raw content without AI processing
- [x] Handles empty state
- [x] "Assign to case" action integrated

## Files

- `apps/web/src/components/communication/OutlookFolderEmailItem.tsx` ✅ Created
- `apps/web/src/components/communication/FolderEmailsPanel.tsx` ✅ Created
- `apps/web/src/components/communication/OutlookFoldersSection.tsx` ✅ Created (bonus - for OPS-293)

## Components Created

### OutlookFolderEmailItem

Card-style email item for folder emails. Features:

- Sender-first display pattern (matching CourtEmailItem/UncertainEmailItem)
- Unread indicator (blue dot)
- Attachment indicator
- Date badge
- Body preview (raw content, no AI cleaning)
- Kebab menu with "Atribuie la dosar" action

### FolderEmailsPanel

Full panel for viewing a folder's emails. Features:

- Header with folder name and counts
- Back button navigation
- Loading skeleton state
- Empty state ("Folderul este gol")
- Load more pagination
- Animated list (using listItemVariants)

### OutlookFoldersSection

Sidebar section for the CaseSidebar. Features:

- Collapsible section header ("FOLDERE OUTLOOK")
- Total email/unread counts
- Accordion folders (expand to show emails)
- Purple folder icon (differentiate from blue case folders)
- Auto-expand folders with unread emails

## Session Log

- 2025-12-27: Issue created as part of Outlook Folders epic
- 2025-12-27: Implemented all three components. TypeScript compiles. Ready for integration when OPS-292 (GraphQL query) is complete.
