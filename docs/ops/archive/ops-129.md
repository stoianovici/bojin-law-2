# OPS-129: Communications - Reduce Default Limit to 50

**Type**: Performance
**Priority**: P1-High
**Status**: Verifying
**Complexity**: S (15 min)
**Blocked by**: None
**Part of**: Performance Optimization Epic (OPS-129 through OPS-133)

---

## Problem

`useMyEmailsByCase.ts:232` sets `limit = 10000` by default, fetching all emails on page load regardless of what the user actually views. With a firm having thousands of emails, this causes:

- Slow initial page load
- Large GraphQL payload (includes full HTML body content)
- Unnecessary memory usage on client

## Root Cause

```typescript
// apps/web/src/hooks/useMyEmailsByCase.ts:232
const { limit = 10000 } = options || {};
```

The limit was set high as a "load everything" approach during initial development.

## Solution

Change the default limit to 50. The GraphQL query already accepts `limit` and `offset` parameters - no backend changes needed.

## Implementation

```typescript
// Change from:
const { limit = 10000 } = options || {};

// To:
const { limit = 50 } = options || {};
```

## Files to Modify

- `apps/web/src/hooks/useMyEmailsByCase.ts` - Line 232: change `limit = 10000` to `limit = 50`

## Acceptance Criteria

- [x] Default limit changed from 10000 to 50
- [ ] Page loads noticeably faster with large email counts
- [ ] Sidebar still shows first 50 threads correctly
- [x] No TypeScript errors

## Testing

1. Clear Apollo cache
2. Load /communications page
3. Verify only ~50 threads appear in sidebar
4. Check Network tab - GraphQL payload should be significantly smaller

## Dependencies

- OPS-132 (Communications - Add load more) will build on this to add pagination UI

---

## Session Log

### 2024-12-23

- Changed `limit = 10000` to `limit = 50` in `useMyEmailsByCase.ts:232`
- TypeScript compilation passes
- Ready for verification in browser
