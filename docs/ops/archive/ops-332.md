# OPS-332: Migrate TopBar & NotificationCenter to Linear Design

**Type**: UI Enhancement | **Complexity**: M | **Platform**: Desktop
**Status**: Closed
**Epic**: Linear UI Migration (OPS-331 to OPS-337)

## Problem

TopBar and NotificationCenter use legacy styling. They should adopt Linear patterns for the header bar, search input, and notification dropdown.

## Approach

- Apply Linear elevated background with subtle border
- Update search to use `SearchBox` component pattern
- Migrate NotificationCenter dropdown to Linear card styling
- Update CommandMenu trigger to Linear button style
- Ensure backdrop blur effect on scroll

## Done When

- [x] TopBar uses Linear elevated background
- [x] Search input matches Linear `SearchBox` pattern
- [x] NotificationCenter dropdown uses Linear card styling
- [x] Quick action buttons use Linear icon button pattern
- [x] CommandMenu/CommandPalette uses Linear styling

## Files

- `apps/web/src/components/layout/TopBar.tsx`
- `apps/web/src/components/layout/NotificationCenter.tsx`
- `apps/web/src/components/layout/CommandPalette.tsx`
- `apps/web/src/components/command/CommandMenu.tsx`

## Session Log

### 2024-12-28 - Session 1

**Analysis:**

- TopBar already using Linear tokens (`linear-bg-secondary/80`, `backdrop-blur-xl`, `border-linear-border-subtle`)
- NotificationCenter using custom useState-based dropdown instead of Radix UI
- CommandMenu and CommandPalette already well-implemented with Linear styling

**Changes Made:**

1. **TopBar.tsx**
   - Enhanced time indicator with pill-style background (`bg-linear-bg-tertiary/50 rounded-md`)
   - Added proper font-medium to time display

2. **NotificationCenter.tsx**
   - Migrated from custom useState to Radix UI DropdownMenu for accessibility
   - Added Lucide Bell icon for consistency
   - Added animations (`animate-in`, `zoom-in-95`, `slide-in-from-top-2`)
   - Updated to rounded-xl dropdown with proper shadow
   - Added unread count badge in header
   - Improved empty state with centered icon
   - Translated UI text to Romanian

3. **CommandPalette.tsx & CommandMenu.tsx**
   - Already using Linear design patterns - no changes needed
   - Using cmdk library with proper Linear-style classes

**Verification:**

- ESLint passes on all modified files
- All Linear design tokens properly applied
