# OPS-150: AI Report Types Definition

**Type**: Task
**Priority**: P2-Medium
**Status**: Closed
**Created**: 2025-12-24
**Epic**: Predefined Reports with AI-Generated Insights (OPS-150 to OPS-155)

## Problem

No types exist for AI-generated report insights or predefined templates. The shared types package only has basic `ReportMetadata` and `ReportData` interfaces.

## Solution

Add new types to `packages/shared/types/src/reports.ts`:

- `ReportAIInsight` - AI-generated narrative
- `PredefinedReportTemplate` - Template with data query and AI prompt
- `ReportDataQuery` - Discriminated union for data sources

## Implementation

```typescript
export interface ReportAIInsight {
  summary: string;
  keyFindings: string[];
  recommendations: string[];
  generatedAt: Date;
  confidence: number;
}

export interface PredefinedReportTemplate extends ReportMetadata {
  dataQuery: ReportDataQuery;
  aiPromptTemplate: string;
}

export type ReportDataQuery =
  | { type: 'cases'; filters?: CaseReportFilters }
  | { type: 'timeEntries'; filters?: TimeReportFilters }
  | { type: 'invoices'; filters?: FinancialReportFilters }
  | { type: 'clients'; filters?: ClientReportFilters }
  | { type: 'documents'; filters?: DocumentReportFilters };
```

## Files

- `packages/shared/types/src/reports.ts`
- `packages/shared/types/src/index.ts`

## Done When

- [x] Types added and exported
- [x] `pnpm preflight` passes

## Blocks

OPS-151, OPS-152, OPS-153
