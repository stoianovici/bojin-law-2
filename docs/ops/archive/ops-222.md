# OPS-222: useActorTypes Hook

**Type**: Feature | **Priority**: P2-Medium | **Complexity**: S

## Problem

Frontend needs to fetch actor types and create new custom types, following same pattern as useCaseTypes.

## Solution

Create useActorTypes hook with query and mutation. Returns merged list with built-in types first, then custom types sorted by sortOrder.

## Hook Interface

```typescript
interface ActorTypeOption {
  value: string; // code
  label: string; // name (Romanian)
  isBuiltIn: boolean;
}

interface UseActorTypesOptions {
  includeInactive?: boolean;
}

interface UseActorTypesReturn {
  actorTypes: ActorTypeOption[];
  loading: boolean;
  error: ApolloError | undefined;
  createActorType: (name: string, code: string) => Promise<{ success: boolean; error?: string }>;
  createLoading: boolean;
  refetch: () => void;
}

export function useActorTypes(options?: UseActorTypesOptions): UseActorTypesReturn;
```

## GraphQL Operations

```graphql
query GetActorTypes($includeInactive: Boolean) {
  actorTypes(includeInactive: $includeInactive) {
    id
    code
    name
    isBuiltIn
    isActive
    sortOrder
  }
}

mutation CreateActorType($input: CreateActorTypeInput!) {
  createActorType(input: $input) {
    id
    code
    name
    isBuiltIn
    isActive
    sortOrder
  }
}
```

## Implementation

1. Create useActorTypes hook file
2. Define GraphQL query and mutation
3. Use useMemo to transform to ActorTypeOption array
4. Return createActorType async function with error handling
5. Export types for consumers

## Done When

- [x] useActorTypes hook created
- [x] GET_ACTOR_TYPES query fetches merged list
- [x] CREATE_ACTOR_TYPE mutation with auto-refetch
- [x] Types exported (ActorType, ActorTypeOption)
- [x] Loading and error states properly handled

## Resolution

Created `apps/web/src/hooks/useActorTypes.ts` following the `useCaseTypes` pattern. The hook:

- Fetches actor types via GET_ACTOR_TYPES query
- Returns both raw `actorTypes` array and formatted `actorTypeOptions` for dropdowns
- Provides `createActorType` mutation with auto-refetch
- Exports `ActorType` and `ActorTypeOption` interfaces

## Files to Modify

- `apps/web/src/hooks/useActorTypes.ts` - New file

## Dependencies

- OPS-221 (GraphQL schema and resolvers must exist)

## Epic

Court Case Number + Dynamic Actor Types (OPS-218 to OPS-223)
