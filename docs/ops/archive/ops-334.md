# OPS-334: Migrate Analytics Components to Linear Design

**Type**: UI Enhancement | **Complexity**: L | **Platform**: Desktop
**Status**: Closed
**Blocked By**: OPS-333
**Epic**: Linear UI Migration (OPS-331 to OPS-337)

## Problem

17 analytics components still use non-Linear styling. Charts, panels, and filter bars need consistent Linear treatment.

## Approach

- Update panel containers to Linear card styling
- Migrate filter bars to use `FilterChips` and `FilterSelect`
- Apply Linear typography to chart labels and legends
- Update trend indicators to Linear status colors
- Standardize widget wrappers across all analytics tabs

## Done When

- [x] All analytics panels use Linear card styling
- [x] Filter components use Linear chip/select patterns
- [x] Chart containers have consistent padding/borders
- [x] ROIDashboard fully migrated
- [x] All tabs (Tasks, Financial, etc.) consistent

## Changes Made

### KeyMetricsSummaryRow.tsx

- Replaced hardcoded color props (`color`, `bgColor`) with semantic `variant` prop
- Added 5 variants: `success`, `accent`, `warning`, `info`, `error`
- Added hover effects with `transition-all duration-200 hover:border-linear-border hover:shadow-[0_4px_12px_rgba(0,0,0,0.4)]`
- All icon backgrounds now use Linear semantic colors (`bg-linear-success/15`, etc.)

### ROIDashboard.tsx

- Updated BillableHoursCard from gradient background to Linear card with accent line
- Updated main Value Card from gradient to Linear card with green accent line
- Text colors now use proper Linear text classes
- Success/error values use `text-linear-success`/`text-linear-error`

### BaseWidget.tsx

- Added hover effects for consistent card interaction
- Updated shadow to dark-mode compatible `shadow-[0_4px_12px_rgba(0,0,0,0.4)]`

### Already Compliant Components (no changes needed)

- TaskAnalyticsTab.tsx - Already uses Linear styling
- FinancialAnalyticsTab.tsx - Already uses Linear styling
- AIUtilizationPanel.tsx - Already uses Linear styling
- VelocityTrendsChart.tsx - Already uses Linear styling
- CompletionTimeCharts.tsx - Already uses Linear styling
- OverdueAnalysisPanel.tsx - Already uses Linear styling
- PatternDetectionPanel.tsx - Already uses Linear styling
- DelegationAnalysisPanel.tsx - Already uses Linear styling
- DeltaBadge.tsx - Already uses Linear colors
- AnalyticsTabBar.tsx - Already uses Linear styling

## Verification Checklist

- [x] TypeScript compiles without errors
- [x] Analytics Financial tab renders correctly
- [x] Analytics Tasks tab renders correctly
- [x] Card hover effects work
- [x] Dark theme colors display properly

## Files

- `apps/web/src/components/analytics/AIUtilizationPanel.tsx`
- `apps/web/src/components/analytics/AnalyticsFilterBar.tsx`
- `apps/web/src/components/analytics/AnalyticsTabBar.tsx`
- `apps/web/src/components/analytics/CompletionTimeCharts.tsx`
- `apps/web/src/components/analytics/DashboardHeader.tsx`
- `apps/web/src/components/analytics/DateRangePicker.tsx`
- `apps/web/src/components/analytics/DelegationAnalysisPanel.tsx`
- `apps/web/src/components/analytics/DeltaBadge.tsx`
- `apps/web/src/components/analytics/DocumentIssuesBreakdown.tsx`
- `apps/web/src/components/analytics/DocumentQualityPanel.tsx`
- `apps/web/src/components/analytics/FeatureUsageBreakdown.tsx`
- `apps/web/src/components/analytics/FinancialAnalyticsTab.tsx`
- `apps/web/src/components/analytics/KeyMetricsSummaryRow.tsx`
- `apps/web/src/components/analytics/OverdueAnalysisPanel.tsx`
- `apps/web/src/components/analytics/PatternDetectionPanel.tsx`
- `apps/web/src/components/analytics/PeriodComparisonToggle.tsx`
- `apps/web/src/components/analytics/PlatformHealthScoreCard.tsx`
- `apps/web/src/components/analytics/ROIDashboard.tsx`
- `apps/web/src/components/analytics/RecommendationsPanel.tsx`
- `apps/web/src/components/analytics/ResponseTimeAnalyticsPanel.tsx`
- `apps/web/src/components/analytics/ResponseTimeTrendChart.tsx`
- `apps/web/src/components/analytics/TaskAnalyticsTab.tsx`
- `apps/web/src/components/analytics/UserAdoptionLeaderboard.tsx`
- `apps/web/src/components/analytics/VelocityTrendsChart.tsx`
- `apps/web/src/components/analytics/widgets/*.tsx`

## Session Log

### 2025-12-28

- Reviewed all analytics components - most already use Linear styling
- Updated KeyMetricsSummaryRow.tsx to use semantic variant colors instead of hardcoded hex values
- Updated ROIDashboard.tsx hero cards to use Linear card pattern with gradient accent lines
- Added hover effects to BaseWidget.tsx for consistent card interactions
- Verified build compiles and pages render correctly
