# OPS-207: useCaseEditPermission Hook

**Type**: Feature | **Priority**: P2-Medium | **Complexity**: S
**Status**: Closed

## Problem

Need centralized permission check for case editing - Partner role OR Lead team membership.

## Solution

Created `useCaseEditPermission(caseId)` hook that:

- Returns `canEdit: true` for Partners (any case), BusinessOwners (any case), or Leads (their assigned cases)
- Returns `canEditFinancials: true` only for Partners and BusinessOwners
- Includes `editReason` to indicate why permission was granted ('partner' | 'businessOwner' | 'lead' | null)
- Includes `isLoading` state for auth/case data loading

## Done When

- [x] Hook returns correct permissions for Partner (full edit)
- [x] Hook returns correct permissions for BusinessOwner (full edit)
- [x] Hook returns correct permissions for Lead (edit, no financials)
- [x] Hook returns false for non-Partner/non-Lead users
- [x] Unit tests cover all role combinations (13 tests passing)

## Files

- `apps/web/src/hooks/useCaseEditPermission.ts` - new hook
- `apps/web/src/hooks/useCaseEditPermission.test.tsx` - unit tests

## Dependencies

None

## Part Of

Expandable Case Workspace Epic (OPS-207 to OPS-217)
