# OPS-276: Team Attribution Toggle

**Type**: Feature
**Priority**: P2-Medium
**Status**: Closed
**Blocked By**: OPS-273 (completed)

## Problem

Client-facing timesheets may not need to show which team member did what work. Some clients prefer cleaner reports without internal attribution.

## Solution

Global toggle to show/hide team member names in timesheet view, persisted for convenience.

## Implementation

1. Add toggle switch in TimesheetHeader:
   - Label: "Afișează membrul echipei"
   - Switch component (Radix Switch or similar)
2. Store toggle state in TimesheetEditor component state
3. Pass `showTeamMember` prop to TimesheetRow
4. When ON: show "(Ana Popescu)" under each description
5. When OFF: hide team member attribution entirely
6. Persist preference in localStorage:
   - Key: `timesheet-show-attribution`
   - Restore on page load
7. Toggle state passed to export functions (OPS-278)

## Done When

- [x] Toggle switch visible in timesheet header
- [x] Toggle ON shows team member under each entry
- [x] Toggle OFF hides team member names
- [x] Preference persists in localStorage
- [x] Preference restored on page reload
- [x] Toggle state accessible for export (OPS-278)

## Files Modified

- `apps/web/src/app/activitate-echipa/page.tsx` - added state with localStorage persistence
- `apps/web/src/components/team-activity/TimesheetEditor.tsx` - pass through onShowTeamMemberChange callback
- `apps/web/src/components/team-activity/TimesheetHeader.tsx` - render toggle switch in contract info bar

## Technical Notes

- Used existing Radix Switch component from `apps/web/src/components/ui/switch.tsx`
- localStorage key: `timesheet-show-attribution`
- Global preference (not per-case) for simplicity
- Toggle defaults to ON (show team members)
- Toggle styled with amber theme to match timesheet UI

## UI Text (Romanian)

- Toggle label: "Afișează membrul echipei"
- Team member column header: "Responsabil"

## Resolution

Completed 2024-12-27. The toggle switch is displayed in the timesheet header contract info bar, and the preference persists across page reloads via localStorage.
