# AI Service - Environment Variables

# ===== Server Configuration =====
NODE_ENV=development
PORT=4003
SERVICE_NAME=ai-service

# ===== Database Configuration =====
DATABASE_URL=postgresql://postgres:password@localhost:5432/legal_platform_dev

# ===== Redis Configuration =====
REDIS_URL=redis://localhost:6379

# ===== AI Provider Configuration =====
AI_PROVIDER=anthropic
AI_FALLBACK_ENABLED=true

# ===== Anthropic Claude Configuration (PRIMARY) =====
ANTHROPIC_API_KEY=your-anthropic-api-key-here
ANTHROPIC_MODEL=claude-3-5-sonnet-20241022
ANTHROPIC_MAX_TOKENS=4096
ANTHROPIC_TEMPERATURE=0.7

# Claude Cost Optimization Features
ANTHROPIC_USE_PROMPT_CACHING=true
ANTHROPIC_USE_BATCHING=true

# ===== Claude Skills Configuration =====
ANTHROPIC_SKILLS_ENABLED=true
ANTHROPIC_CODE_EXECUTION_ENABLED=true
ANTHROPIC_SKILLS_BETA_VERSION=skills-2025-10-02
ANTHROPIC_CODE_EXECUTION_BETA_VERSION=code-execution-2025-08-25

# Skills Management Settings
SKILLS_UPLOAD_MAX_SIZE_MB=10
SKILLS_MAX_PER_WORKSPACE=50
SKILLS_CACHE_TTL_SECONDS=3600

# ===== xAI Grok Configuration (FALLBACK) =====
GROK_API_KEY=your-grok-api-key-here
GROK_MODEL=grok-beta
GROK_MAX_TOKENS=4096
GROK_TEMPERATURE=0.7

# ===== Logging =====
LOG_LEVEL=debug

# ===== AI Learning Configuration (Story 5.6) =====
# Writing Style Learning
STYLE_LEARNING_MIN_SAMPLES=5
STYLE_LEARNING_UPDATE_THRESHOLD=0.15
STYLE_LEARNING_ANALYSIS_BATCH_SIZE=10

# Pattern Recognition
PATTERN_CONFIDENCE_THRESHOLD=0.75
PATTERN_MIN_OCCURRENCES=3
PATTERN_EXPIRY_DAYS=90

# Personalization Cache
PERSONALIZATION_CACHE_TTL_SECONDS=3600
PERSONALIZATION_PRELOAD_ENABLED=true

# Snippet Detection
SNIPPET_AUTO_DETECT_ENABLED=true
SNIPPET_MIN_REUSE_COUNT=3
SNIPPET_MAX_LENGTH=500
