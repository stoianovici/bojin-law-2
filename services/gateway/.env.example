# API Gateway (GraphQL) - Environment Variables
# NOTE: In local dev, services/gateway/.env is a symlink to root .env.local
# This file documents all variables the gateway uses.

# =============================================================================
# Server Configuration
# =============================================================================
NODE_ENV=development
PORT=4000
API_HOST=0.0.0.0

# =============================================================================
# Database & Cache
# =============================================================================
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/legal_platform_prod
REDIS_URL=redis://localhost:6379

# =============================================================================
# Azure AD Authentication
# =============================================================================
AZURE_AD_CLIENT_ID=
AZURE_AD_CLIENT_SECRET=
AZURE_AD_TENANT_ID=
AZURE_AD_REDIRECT_URI=http://localhost:4000/auth/callback

# =============================================================================
# Frontend & URLs
# =============================================================================
FRONTEND_URL=http://localhost:3000
NEXT_PUBLIC_API_URL=http://localhost:4000/graphql

# =============================================================================
# JWT & Session
# =============================================================================
JWT_SECRET=dev-secret-change-in-production
JWT_EXPIRES_IN=7d
SESSION_SECRET=dev-session-secret-change-in-production

# =============================================================================
# AI Services (Anthropic Claude)
# =============================================================================
ANTHROPIC_API_KEY=
ANTHROPIC_MODEL=claude-sonnet-4-20250514
ANTHROPIC_MAX_TOKENS=4096
AI_SERVICE_API_KEY=local-dev-ai-service-key

# =============================================================================
# R2 Storage (Cloudflare) - Document storage
# =============================================================================
R2_ACCOUNT_ID=
R2_ACCESS_KEY_ID=
R2_SECRET_ACCESS_KEY=
R2_ENDPOINT=
R2_BUCKET_NAME=legal-documents

# =============================================================================
# SharePoint Integration
# =============================================================================
# Site ID format: hostname,site-guid,web-guid
SHAREPOINT_SITE_ID=
# Drive ID for the document library
SHAREPOINT_DRIVE_ID=

# =============================================================================
# Render (deployment)
# =============================================================================
RENDER_API_KEY=

# =============================================================================
# Web Search (for AI research)
# =============================================================================
# Get from: https://brave.com/search/api/
BRAVE_SEARCH_API_KEY=

# =============================================================================
# CORS - Allowed origins
# =============================================================================
CORS_ORIGIN=http://localhost:3000,http://localhost:3001,https://localhost:3005

# =============================================================================
# Logging & Monitoring
# =============================================================================
LOG_LEVEL=debug
APPLICATION_INSIGHTS_CONNECTION_STRING=

# =============================================================================
# Microservices URLs (optional, for future use)
# =============================================================================
DOCUMENT_SERVICE_URL=http://localhost:4001
TASK_SERVICE_URL=http://localhost:4002
AI_SERVICE_URL=http://localhost:4003
INTEGRATION_SERVICE_URL=http://localhost:4004
NOTIFICATION_SERVICE_URL=http://localhost:4005
