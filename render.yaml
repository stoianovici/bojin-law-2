# Render.com Infrastructure Configuration
# Legal Platform - Web Frontend Only (for now)
#
# Backend services, database, and Redis will be added when implemented

services:
  ##############################################################################
  # Web Service - Next.js Frontend
  ##############################################################################
  - type: web
    name: legal-platform-web
    runtime: docker
    repo: https://github.com/stoianovici/bojin-law-2.git
    branch: main # Production deploys from main
    dockerfilePath: ./infrastructure/docker/Dockerfile.web
    dockerContext: .
    plan: starter # 512MB RAM - for testing (upgrade to 'standard' for production)
    numInstances: 1 # Single instance for testing (increase to 2+ for production HA)
    region: oregon # US West
    envVars:
      - key: NODE_ENV
        value: production
      - key: NEXT_PUBLIC_APP_URL
        value: https://legal-platform-web.onrender.com # Will update with custom domain later
      - key: NEXT_PUBLIC_API_URL
        sync: false # Set in Render dashboard when backend is ready
    healthCheckPath: /api/health
    autoDeployTrigger: commit # Auto-deploy on each commit to main

##############################################################################
# Future Services (uncomment when implemented)
##############################################################################
# - Gateway Service (GraphQL API)
# - Document Service (File Processing & Storage)
# - AI Service (Claude + Grok with Semantic Search)
# - Task Service (Background Job Processing)
# - Integration Service (Third-Party APIs)
# - Notification Service (Email, SMS, Push)
# - PostgreSQL Database (with pgvector)
# - Redis (Cache & Session Store)
#
# See infrastructure/ARCHITECTURE.md for full system design
##############################################################################
