# Legal Platform - Local Development
# Copy to .env.local and fill in your values
#
# Setup:
#   1. docker compose up -d
#   2. cp .env.example .env.local
#   3. Fill in Azure AD + Anthropic values below
#   4. pnpm dev

# =============================================================================
# REQUIRED - Database & Cache (provided by docker compose)
# =============================================================================
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/legal_platform
REDIS_URL=redis://localhost:6379

# =============================================================================
# REQUIRED - Azure AD Authentication
# Get from: Azure Portal > App Registrations > Your App > Overview
# =============================================================================
# Client ID (also called Application ID)
AZURE_AD_CLIENT_ID=
NEXT_PUBLIC_AZURE_AD_CLIENT_ID=

# Tenant ID (also called Directory ID)
AZURE_AD_TENANT_ID=
NEXT_PUBLIC_AZURE_AD_TENANT_ID=

# Client Secret - Azure Portal > Certificates & secrets > New client secret
AZURE_AD_CLIENT_SECRET=

# =============================================================================
# REQUIRED - AI (Anthropic Claude)
# Get from: console.anthropic.com > API Keys
# =============================================================================
ANTHROPIC_API_KEY=
# Admin API key for usage/cost reporting (optional, starts with sk-ant-admin)
# Get from: console.anthropic.com > Settings > Admin Keys (requires admin role)
ANTHROPIC_ADMIN_API_KEY=

# OAuth redirect URI (must match Azure AD app registration)
AZURE_AD_REDIRECT_URI=http://localhost:4000/auth/callback

# =============================================================================
# OPTIONAL - SharePoint Integration
# Get from: SharePoint Admin Center or Microsoft Graph Explorer
# =============================================================================
# Site ID format: hostname,site-guid,web-guid (e.g., contoso.sharepoint.com,guid1,guid2)
SHAREPOINT_SITE_ID=
# Drive ID for the document library (e.g., b!xxxxxxxxxxxx)
SHAREPOINT_DRIVE_ID=

# =============================================================================
# OPTIONAL - AI Service Configuration
# =============================================================================
# Service-to-service authentication key
AI_SERVICE_API_KEY=local-dev-ai-service-key
# Claude model to use
ANTHROPIC_MODEL=claude-sonnet-4-20250514
# Max tokens for responses
ANTHROPIC_MAX_TOKENS=4096

# =============================================================================
# OPTIONAL - Web Search (for AI research documents)
# Get from: https://brave.com/search/api/ (first 2000 queries/month free)
# =============================================================================
BRAVE_SEARCH_API_KEY=

# =============================================================================
# OPTIONAL - Defaults work for local dev
# =============================================================================
NEXT_PUBLIC_API_URL=http://localhost:4000/graphql
FRONTEND_URL=http://localhost:3000
JWT_SECRET=dev-secret-change-in-production
SESSION_SECRET=dev-session-secret-change-in-production
