# Log Rotation Configuration for Legal Platform
# Copy to /etc/logrotate.d/legal-platform on the server
#
# Usage: cp logrotate.conf /etc/logrotate.d/legal-platform

# Legal Platform application logs
/var/log/legal-platform/*.log {
    daily
    rotate 7
    compress
    delaycompress
    missingok
    notifempty
    create 0644 root root
    sharedscripts
    postrotate
        # Optionally notify services to reopen log files
        # docker kill -s HUP $(docker ps -q) 2>/dev/null || true
    endscript
}

# Docker container logs (managed by Docker daemon)
# Configure in /etc/docker/daemon.json instead:
#
# {
#   "log-driver": "json-file",
#   "log-opts": {
#     "max-size": "50m",
#     "max-file": "3"
#   }
# }

# Coolify logs
/var/log/coolify/*.log {
    daily
    rotate 7
    compress
    delaycompress
    missingok
    notifempty
    create 0644 root root
}

# System logs that might grow large
/var/log/syslog
/var/log/messages {
    daily
    rotate 7
    compress
    delaycompress
    missingok
    notifempty
    create 0644 root root
}
